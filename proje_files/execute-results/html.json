{
  "hash": "22978251d2a37ff97434a3914509cd6d",
  "result": {
    "markdown": "\\#**Proje sayfamıza hoş geldiniz. Biz Pokemon'lar olarak sizlere bir analiz yaptık.. Şöyle ki;**\n\n# Proje Genel Bakış ve Kapsamı\n\n# Veri\n\n\n::: {.cell}\n\n```{.r .cell-code}\n    library(dplyr)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'dplyr'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n```\n:::\n\n```{.r .cell-code}\n    library(readr)\n    library(knitr)\n    library(ggplot2)\n    library(leaflet)\n    library(readxl)\n    library(gridExtra)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'gridExtra'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following object is masked from 'package:dplyr':\n\n    combine\n```\n:::\n\n```{.r .cell-code}\n    deprem_analiz <- read_excel(\"deprem.xlsx\")\n    deprem_analiz <- data.frame(lapply(deprem_analiz, function(v) {\n      if (is.character(v)) return(tolower(v))\n      else return(v)\n    }))\n    \n     colnames(deprem_analiz)[1:4] <- c(\"id\", \"ilce_adi\", \"mahalle_adi\", \"mahalle_kodu\")\n    district_sum <- deprem_analiz %>% group_by(ilce_adi) %>% summarise(\n                                                                  total_cok_agir_hasarli = sum(cok_agir_hasarli_bina_sayisi),\n                                                                  total_agir_hasarli = sum(agir_hasarli_bina_sayisi),\n                                                                  total_orta_hasarli = sum(orta_hasarli_bina_sayisi),\n                                                                  total_hafif_hasarli = sum(hafif_hasarli_bina_sayisi),\n                                                                  total_can_kaybi = sum(can_kaybi_sayisi),\n                                                                  total_agir_yarali = sum(agir_yarali_sayisi),\n                                                                  total_hafif_yarali = sum(hafif_yarali_sayisi),\n                                                                  .groups = 'drop')\n    \ndistrict_sum <- data.frame(district_sum)\n\n    district_avg <- deprem_analiz %>% group_by(ilce_adi) %>% summarise(\n                                                                  avg_cok_agir_hasarli = mean(cok_agir_hasarli_bina_sayisi),\n                                                                  avg_agir_hasarli = mean(agir_hasarli_bina_sayisi),\n                                                                  avg_orta_hasarli = mean(orta_hasarli_bina_sayisi),\n                                                                  avg_hafif_hasarli = mean(hafif_hasarli_bina_sayisi),\n                                                                  avg_can_kaybi = mean(can_kaybi_sayisi),\n                                                                  avg_agir_yarali = mean(agir_yarali_sayisi),\n                                                                  avg_hafif_yarali = mean(hafif_yarali_sayisi),\n                                                                 .groups = 'drop')\n    district_avg$ilce_adi <- factor(district_avg$ilce_adi, levels = unique(district_avg$ilce_adi))\n    \n    kable(head(district_avg, 50), caption=\"Data\")\n```\n\n::: {.cell-output-display}\nTable: Data\n\n|ilce_adi      | avg_cok_agir_hasarli| avg_agir_hasarli| avg_orta_hasarli| avg_hafif_hasarli| avg_can_kaybi| avg_agir_yarali| avg_hafif_yarali|\n|:-------------|--------------------:|----------------:|----------------:|-----------------:|-------------:|---------------:|----------------:|\n|adalar        |           82.6000000|       148.600000|        378.80000|         368.40000|    15.2000000|      12.2000000|        75.600000|\n|arnavutköy    |            1.0789474|         6.394737|         44.84211|         130.26316|     0.0000000|       0.0000000|         4.710526|\n|ataşehir      |            7.2352941|        27.705882|        162.11765|         401.94118|     5.2352941|       2.7647059|        44.411765|\n|avcilar       |           23.3000000|       126.100000|        554.50000|         928.50000|    46.5000000|      23.9000000|       279.900000|\n|bahçelievler  |           72.3636364|       135.454545|        515.27273|         880.54545|   148.4545455|      79.9090909|       690.818182|\n|bakirköy      |           52.1333333|        87.066667|        226.26667|         262.60000|    69.7333333|      38.7333333|       307.333333|\n|bayrampaşa    |           55.8181818|       107.454545|        369.00000|         674.09091|    47.2727273|      30.9090909|       229.909091|\n|bağcilar      |           36.1818182|        82.954545|        363.68182|         699.86364|    53.5909091|      29.6363636|       266.772727|\n|başakşehir    |           11.5000000|        57.500000|        297.70000|         624.30000|     7.1000000|       4.5000000|        67.000000|\n|beykoz        |            2.5111111|         9.844444|         61.24444|         163.46667|     0.5555556|       0.3555556|         6.311111|\n|beylikdüzü    |           32.1000000|        95.000000|        300.40000|         433.10000|    52.7000000|      27.6000000|       265.500000|\n|beyoğlu       |            9.1111111|        18.688889|         69.60000|         159.06667|     4.8222222|       3.3333333|        25.355556|\n|beşiktaş      |            2.7826087|         8.130435|         45.78261|         140.91304|     1.1304348|       0.6086957|        10.434783|\n|büyükçekmece  |           18.2916667|        68.125000|        275.91667|         390.29167|    12.0000000|       6.4166667|        73.083333|\n|esenler       |           24.4375000|        50.812500|        233.68750|         518.87500|    39.8750000|      22.0000000|       195.812500|\n|esenyurt      |           13.0930233|        41.116279|        183.97674|         341.20930|    23.3255814|      12.6279070|       126.534884|\n|eyüp          |           10.7142857|        30.035714|        135.50000|         294.17857|     6.0000000|       3.9285714|        38.571429|\n|fatih         |           36.5438596|        61.333333|        174.54386|         276.45614|    26.0350877|      17.2807018|       118.719298|\n|gaziosmanpaşa |            8.0625000|        25.187500|        142.25000|         435.56250|     8.7500000|       5.1875000|        56.125000|\n|güngören      |           31.0909091|        55.545454|        218.81818|         417.90909|    68.5454545|      37.7272727|       317.818182|\n|kadiköy       |            9.9047619|        24.047619|        115.52381|         319.85714|     9.0476190|       4.4285714|        54.047619|\n|kartal        |            9.9500000|        29.650000|        164.10000|         408.65000|     8.8000000|       4.3500000|        57.400000|\n|kağithane     |            4.9473684|        14.473684|         90.89474|         306.10526|     4.4210526|       2.3157895|        31.631579|\n|küçükçekmece  |           59.0476190|       124.571429|        427.52381|         657.09524|    72.1428571|      44.0476190|       353.000000|\n|maltepe       |           13.1666667|        38.333333|        188.22222|         453.11111|    13.0000000|       7.2222222|        79.888889|\n|pendik        |            7.6111111|        28.916667|        156.25000|         373.58333|     5.4166667|       2.8055556|        43.500000|\n|sancaktepe    |            4.4210526|        21.894737|        133.63158|         354.36842|     2.5263158|       1.2631579|        30.210526|\n|sariyer       |            2.6842105|         9.605263|         65.42105|         183.60526|     0.8684211|       0.5526316|         8.973684|\n|silivri       |           12.6857143|        48.771429|        204.42857|         342.77143|     1.6571429|       0.7714286|        16.171429|\n|sultanbeyli   |            7.2666667|        43.200000|        263.26667|         548.33333|     4.8666667|       2.5333333|        50.400000|\n|sultangazi    |            4.0666667|        16.333333|        120.26667|         458.93333|     3.8000000|       1.8000000|        37.066667|\n|tuzla         |           26.2352941|        80.588235|        312.35294|         484.64706|    15.7647059|       9.9411765|        92.058824|\n|zeytinburnu   |           39.2307692|        78.846154|        292.23077|         487.30769|    51.3846154|      28.7692308|       246.615385|\n|çatalca       |            1.6153846|         7.717949|         42.46154|         103.92308|     0.1025641|       0.0512821|         1.717949|\n|çekmeköy      |            0.7619048|         5.380952|         47.52381|         161.52381|     0.0476190|       0.0000000|         5.190476|\n|ümraniye      |            3.0000000|        15.257143|        103.60000|         304.45714|     1.2000000|       0.4857143|        20.114286|\n|üsküdar       |            4.4242424|        14.939394|        101.24242|         291.21212|     2.8787879|       1.2727273|        25.727273|\n|şile          |            0.3548387|         1.709677|         12.48387|          38.74194|     0.0000000|       0.0000000|         0.016129|\n|şişli         |            2.7200000|         8.280000|         40.32000|         173.32000|     2.2000000|       1.0800000|        14.720000|\n:::\n:::\n\n\n## Veri Kaynağı\n\n[İstanbul Deprem Senaryosu Verileri](https://data.ibb.gov.tr/dataset/deprem-senaryosu-analiz-sonuclari)\n\n## Veri Hakkında Genel Bilgiler\n\n## Tercih Sebebi\n\n## Ön İşleme\n\n# Analiz\n\n\n::: {.cell}\n\n```{.r .cell-code}\navg_health1 <- ggplot(district_avg, aes(x = ilce_adi)) +\n\ngeom_line(aes(y = avg_can_kaybi, group = 1, color = \"Can Kaybı\")) +\ngeom_line(aes(y = avg_agir_yarali, group = 1, color = \"Ağır Yaralı\")) +\n                geom_line(aes(y = avg_hafif_yarali, group = 1, color = \"Hafif Yaralı\")) +\n                ylab(\"Yaralanmalar ve Can Kayıpları\") +\n                xlab(\"İlçe Adı\") +\n                ggtitle(\"Deprem Hasar Analizi: İlçe Bazında Ortalama Değerler\") + theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1),\n                      plot.title = element_text(color = \"black\", size = 14, face = \"bold\"),\n                      axis.title = element_text(color = \"black\", size = 12, face = \"italic\"),\n                      axis.text = element_text(color = \"black\", size = 10),\n                      legend.title = element_text(color = \"black\", size = 12, face = \"bold\"),\n                      legend.text = element_text(color = \"black\", size = 10)) +\n                scale_color_manual(values = c(\"Can Kaybı\" = \"red\", \"Ağır Yaralı\" = \"blue\",\"Hafif Yaralı\" = \"darkgreen\"), name=\"Tablo Verileri\")\n```\n:::\n\n\n## Keşifsel Veri Analizi\n\n\n::: {.cell}\n\n```{.r .cell-code}\navg_health1\n```\n\n::: {.cell-output-display}\n![](proje_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n## Trend Analizi\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n\nbuilding_avg_line <- ggplot(district_avg, aes(x = ilce_adi)) +\n                geom_line(aes(y = avg_cok_agir_hasarli, group = 1, color = \"Çok Ağır Hasarlı\")) +geom_line(aes(y = avg_agir_hasarli, group = 1, color = \"Ağır Hasarlı\")) + geom_line(aes(y = avg_orta_hasarli, group = 1, color = \"Orta Hasarlı\")) + geom_line(aes(y = avg_hafif_hasarli, group = 1, color = \"Hafif Hasarlı\")) + ylab(\"Ortalama Bina Sayısı\") + xlab(\"İlçe Adı\") + ggtitle(\"Deprem Hasar Analizi İlçe Bazında Ortalamalar\") +\n                \ntheme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust = 1),  legend.title = element_text(color = \"black\", size = 12, face = \"bold\"),\nplot.title = element_text(color = \"black\", size = 16, face = \"bold\"),\naxis.title = element_text(color = \"black\", size = 12, face = \"italic\"),\naxis.text = element_text(color = \"black\", size = 10)) +\nscale_color_manual(values = c(\"Çok Ağır Hasarlı\" = \"darkred\", \"Ağır Hasarlı\" = \"purple\", \"Orta Hasarlı\" = \"darkblue\", \"Hafif Hasarlı\" = \"darkgreen\"), name=\"Tablo Verileri\")\n```\n:::\n\n\n## Model Uydurma\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbuilding_avg_line\n```\n\n::: {.cell-output-display}\n![](proje_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n  library(readxl)\nlibrary(ggplot2)\nlibrary(dplyr)\n\nnufus_excel <- read_excel(\"Veri-2.xlsx\") %>%\n  select(ilce, nüfus_sayısı, toplam_can_kaybı) %>%\n  mutate(can_kaybı_nüfus = (toplam_can_kaybı / nüfus_sayısı) * 1000)  \n\nggplot(nufus_excel, aes(x = ilce, y = toplam_can_kaybı)) +\n  geom_point(aes(size = nüfus_sayısı, color = cut(can_kaybı_nüfus, \n                                                  breaks = c(0, 0.7, 2, 5),\n                                                  labels = c(\"Least Dangerous\", \"Medium Dangerous\", \"High Dangerous\")))) +\n  scale_color_manual(values = c(\"High Dangerous\" = \"red\", \"Medium Dangerous\" = \"blue\", \"Least Dangerous\" = \"green\")) +\n  theme_bw() +\n  theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust = 1), \n        legend.position = \"none\") +\n  xlab(\"District\") +\n  ylab(\"Death\") +\n  scale_y_continuous(limits = c(0, max(nufus_excel$toplam_can_kaybı) * 1.1)) +\n  scale_size_continuous(range = c(2, 4))\n```\n\n::: {.cell-output-display}\n![](proje_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n## Sonuçlar\n\n# Sonuçlar ve Ana Çıkarımlar\n",
    "supporting": [
      "proje_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}